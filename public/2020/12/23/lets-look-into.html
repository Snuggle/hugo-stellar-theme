<!DOCTYPE HTML>

<html>
	<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>snugg.ie</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content=" Follow &lt;a href=&#34;https://micro.blog/snuggle&#34;&gt;@snuggle on Micro.blog&lt;/a&gt;. ">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.126.1">
<!-- [if lte IE 8 ]]> <script src="http://localhost:1313/js/ie/html5shiv.js"></script><![endif] -->
<link rel="stylesheet" href="http://localhost:1313/css/main.css" />
<link rel="stylesheet" href="http://localhost:1313/css/snuggle.css" />
<!--[if lte IE 8]><link rel="stylesheet" href="http://localhost:1313/css/ie8.css" /><![endif]-->
<!--[if lte IE 8]><link rel="stylesheet" href="http://localhost:1313/css/ie9.css" /><![endif]-->


	</head>
	<body>
    

		
			<div id="wrapper">

				
        <header id="header" class="post-header">
          
          <h2 class="p-name">Let&#39;s look into Hug, the server running all the things...</h2>
          
					</header>
          <nav id="nav">
            <ul id="breadcrumbs">
        <li><a href="/">snugg.ie</a></li> /
        <li><a href="/2020/">2020</a></li> /
    
    <li><a href="/2020/12/23/lets-look-into.html">Let&#39;s look into Hug, the server running all the things...</a></li>
    
</ul>
          </nav>
				
					<div id="main">
            
            <section id="content" class="main">

						
            <div class="post h-entry  blogs">

                <article class="post-content e-content">
                  <img src="uploads/2024/hug-server.png" width="600" height="223" alt="">
<p>Let me tell you the tale of my experiences with home servers (<a href="https://reddit.com/r/homelab">&lsquo;Homelab&rsquo;</a> equipment). As I was experimenting within tech, I found that I loved hosting little services and such to make my life easier. From <a href="https://nextcloud.com/">Nextcloud</a>, a cloud storage replacement similar to <a href="https://drive.google.com/">Google Drive</a>, to a personal VPN with <a href="https://wireguard.com/">Wireguard</a>, my requirements ended up expanding to the point where I was spending up to ¬£35/month on a <a href="https://en.wikipedia.org/wiki/Virtual_private_server">rented VPS</a>.</p>
<p>This couldn&rsquo;t continue! Things were getting too expensive and I didn&rsquo;t like keeping my <a href="https://simple.wikipedia.org/wiki/Network-attached_storage">NAS</a> storage in the cloud ‚Äî it was slow.
Enter&hellip; Hug Server.</p>
<h2 id="and-so-it-begins">And so it begins&hellip;</h2>
<h3 id="lets-find-a-chassis-and-motherboard">Let&rsquo;s find a chassis and motherboard!</h3>
<p><img src="https://snuggle.micro.blog/uploads/2024/95782e0212.jpg" alt="Inside of server purchased">
I ended up wandering upon an eBay listing for a Sandy Bridge server which was only ¬£70.</p>
<p>This was awesome! It included an 8-thread <a href="https://ark.intel.com/content/www/us/en/ark/products/52273/intel-xeon-processor-e3-1240-8m-cache-3-30-ghz.html">Intel Xeon E3-1240</a> CPU plus an <a href="https://ark.intel.com/content/www/us/en/ark/products/53557/intel-server-board-s1200btl.html">Intel S1200BTL</a> motherboard. The most important part for me, though, was the <a href="https://web.archive.org/web/20201204043130/https://www.ri-vier.eu/rivier-2u-12bay-chassis-with-sas-backplane-rvs206a-p-323.html">Ri-Vier RVS2-06A</a> chassis with <strong>included rails</strong> and a 12-bay hotswappable SAS/SATA backplane. This was perfect for building a custom server within, as there were no OEM or proprietary parts ‚Äî I could fit any components I&rsquo;d like because there weren&rsquo;t any weird form factors to think about. It even used a standard PSU.</p>
<p><img src="https://snuggle.micro.blog/uploads/2024/f8d7032133.jpg" alt="Motherboard purchased, ASUS Z10PE-D8 WS"></p>
<p>The next part came along when I saw a motherboard that should&rsquo;ve been worth about ¬£500 at the time, which I bought for only ¬£87. The ASUS Z10PE-D8 WS: a Haswell semi-workstation/server board with seven x16 PCIe lanes. It was so affordable
because it <em>&lsquo;had a bent CPU2 socket pin&rsquo;</em> and the seller wasn&rsquo;t sure if the second socket would still work, as they only had one CPU to test with. I tested it myself, there were no issues!</p>
<p><img src="https://snuggle.micro.blog/uploads/2024/3a00b95541.jpg" alt="Screenshot of eBay listing for motherboard"></p>
<h3 id="now-to-make-it-smart-to-hunt-some-cpu-and-memory">Now to make it smart, to hunt some CPU and memory!</h3>
<p><img src="https://snuggle.micro.blog/uploads/2024/02b871fa4c.jpg" alt="A picture of one of the CPUs used, Intel Xeon E5-2630 v3."></p>
<p>As very few people actually have Haswell server motherboards, the CPUs sell for relatively cheap! I managed to purchase two Intel Xeon E5-2630 v3&rsquo;s for ¬£30/ea, giving me a total of 32 threads at 2.4‚Äì3.2 GHz for ¬£60.</p>
<p>I also didn&rsquo;t have too much issue finding memory. I found three 16 GB sticks of DDR4 RDIMM ECC for ¬£20/ea (All prices including shipping) which would give me a total of 48 GB which I could easily expand up to 128 GB.</p>
<h3 id="putting-it-all-together-like-lego">Putting it all together like LEGO</h3>
<p><img src="https://snuggle.micro.blog/uploads/2024/a92dfe17f5.jpg" alt="Motherboard full assembled">
<img src="https://snuggle.micro.blog/uploads/2024/7a3d385a3e.jpg" alt="Installing motherboard into 2U chassis, next to PSU"></p>
<p>All that was left was to put everything together! Pop the two processors in their socket, install the memory and we&rsquo;re off to the races! There actually wasn&rsquo;t any issue with bent CPU pins, everything worked pretty much out of the box. This motherboard also supports IPMI with an addin-module.</p>
<p>The motherboard was an extremely tight fit, as it is designed to the EEB specification, whereas this chassis was designed for a CEB motherboard. This wasn&rsquo;t too much of an issue, I just put in as many standoffs as I could and also added some cork spacers underneath for extra support. It just about fit with barely a millimetre of clearance. After this, I purchased two Supermicro SMH SNK-P0048AP4 heatsinks since I needed some fans in this chassis and then closed it up!</p>
<p><img src="https://snuggle.micro.blog/uploads/2024/fc2e975606.jpg" alt="Both heatsinks being shown with the fans running">
<img src="https://snuggle.micro.blog/uploads/2024/d801df24cb.jpg" alt="Overall photo of the final build, chassis closed"></p>
<h3 id="loading-up-new-software">Loading up new software</h3>
<p><img src="https://snuggle.micro.blog/uploads/2024/6263627a1d.jpg" alt="Quick screenshot from neofetch, showing the operating system running (Red Hat Enterprise Linux) and system specs"></p>
<p>For this server, I would like to be able to virtualise and/or containerize many different services. I had a few choices here! I could use something popular like Proxmox or VMWare&rsquo;s ESXi, but this would be entirely for personal use and I would also like my web dashboards to look aesthetically pleasing.</p>
<p>I am familiar with Fedora, as I use both Fedora and MacOS on my personal devices, and there is a web dashboard known as Cockpit which is included by default with Fedora server, but I would prefer a more stable release cycle for updates. This is why I&rsquo;d chose Red Hat Enterprise Linux for my host OS and then I could use Cockpit&rsquo;s QEMU/KVM module plus some command-line to manage all of my virtual machines! (Plus Cockpit&rsquo;s Podman for Docker containers)</p>
<p><img src="https://snuggle.micro.blog/uploads/2024/0d3b92f896.jpg" alt="Screenshot from the included server management web dashboard, Cockpit"></p>
<h2 id="what-things-are-you-running">What things are you running?</h2>
<h3 id="logical-topology-diagram">Logical Topology Diagram</h3>
<embed class="centre" src="&#123;&#123; page.images }}/logical_topology.svg">
<h3 id="physical-topology-diagram">Physical Topology Diagram</h3>
<embed class="centre" src="&#123;&#123; page.images }}/physical_topology.svg">
<p>And&hellip; that&rsquo;s pretty much everything for now. More might be coming soon! (Including plans to create a DIY server cabinet)</p>
<h2 id="a-relevant-tweet-appears-">A Relevant Tweet Appears! üê¶</h2>
<div>
	<blockquote class="twitter-tweet tw-align-center" data-theme="dark"><p lang="en" dir="ltr">Here is my finished server rack/coffee table! It's going to stay in the living room (Don't worry, it's quiet!) and then all of the server stuff rack mounts into a hidden, fancy coffee table! üë©‚Äçüíªüìêüõ†Ô∏è <a href="https://twitter.com/EvieSnuggle/status/1288936442736136205">pic.twitter.com/MFsAdPG5l7</a></p>‚Äî Snuggle üßã‚ùÑÔ∏è (@EvieSnuggle) <a href="https://twitter.com/EvieSnuggle/status/1288936442736136205?ref_src=twsrc%5Etfw">July 30, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>
                </article>
              </div>
              
  <ul class="post-tags">
     
    <li><a href="http://localhost:1313/categories/blogs">#Blogs</a></li>
    
  </ul>
  
            </section>

					</div>

				
        <footer id="footer">
  <section>
    <h2>‚ú® 	
      <ul id="breadcrumbs">
        <li><a href="/">snugg.ie</a></li> /
        <li><a href="/2020/">2020</a></li> /
    
    <li><a href="/2020/12/23/lets-look-into.html">Let&#39;s look into Hug, the server running all the things...</a></li>
    
</ul>
    </h2>
    <p>Evie's small personal website for hosting my own projects and centralizing all of my internet-related stuff within one place.
    <ul class="actions">
          <li><a href="https://posts.snugg.ie/2020/12/23/lets-look-into.html" class="button">üñ•Ô∏è ‚Äî What am I running on?</a></li>
      </ul>
      
      <ul class="icons">
        
          <li><a href="#" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
        
          <li><a href="#" class="icon alt fa-facebook"><span class="label">Facebook</span></a></li>
        
          <li><a href="#" class="icon alt fa-instagram"><span class="label">Instagramm</span></a></li>
        
          <li><a href="#" class="icon alt fa-dribbble"><span class="label">Dribbble</span></a></li>
        
          <li><a href="#" class="icon alt fa-envelope"><span class="label">Email</span></a></li>
        
      </ul>
    

  </section>
  <section>
    <h2>Thanks</h2>
    <dl class="alt">
      
        <dt>Platform</dt>
        <dd>micro.blog</dd>
      
      
        <dt>Theme</dt>
        <dd>Stellar by HTML5UP</dd>
      
    </dl>
  </section>
  
  
  <p class="copyright"><a href="https://posts.snugg.ie/feed.xml">RSS</a> - <a href="https://posts.snugg.ie/feed.json">JSON</a><br><br>
    <img width="50px" alt="An abstract logo which shows three sprinkles, like the sprinkles on a cake." src="/images/sprinkles/vector/sprinkles.svg"><br>
  </p>      
  

</footer>



			</div>

      <!-- Scripts -->
<script src="http://localhost:1313/js/jquery.min.js"></script>
<script src="http://localhost:1313/js/jquery.scrollex.min.js"></script>
<script src="http://localhost:1313/js/jquery.scrolly.min.js"></script>
<script src="http://localhost:1313/js/skel.min.js"></script>
<script src="http://localhost:1313/js/util.js"></script>
<!-- [if lte IE 8 ]]> <script src="http://localhost:1313/js/ie/respond.min.js"></script><![endif] -->
<script src="http://localhost:1313/js/main.js"></script>



	</body>
</html>




